<!DOCTYPE html>
<html lang="en-us">
	<head>
		<title>bitly-clone</title>
		<meta charset="utf-8">
		<link rel="stylesheet" type="text/css" href="./static/css/stylesheet.css">
		<link rel="stylesheet" type="text/css" href="http://bootswatch.com/cosmo/bootstrap.min.css" media="all">
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
		<script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
	</head>
	<body>
		<div class="container">
			<h1>Welcome to the Magic URL Shortener!</h1>
			<h4>Studies show that shorter links drive web traffic.</h4>
			<img src="http://www.eurweb.com/wp-content/uploads/2014/10/Tom-and-Jerry-Kids-Wallpapers.jpg" alt="tom-and-jerry" class="tom-img">
			<h3>Services we offer:</h3>
			<div>
				<p>URL shortening</p>
				<p>Traffic analysis</p>
				<p>Easter eggs</p>
			</div>
		</div>
		<!-- if want to disable post, add onsubmit ="return false" -->
		<form class="container" action='/~jsemer/server/shorts' method='POST'>
			<div>
				<label for="long-url">Enter the URL to shorten:</label>
				<input type="text" name='long-url' class="long-input" id="long-url">
			</div>
			<br>
			<div>
				<label for="short-url">Enter the shortened version:</label>
				<input type="text" name='short-url' class="short-input" id="short-url">
			</div>
			<br>
			<div>
				<button id="submitButton" style="display: none;" type="submit">Shorten!</button>
			</div>
			<br>
			<a href="/~jsemer/server/shorts/{{ new_url }}">{{ new_url }}</a>
			<br>
			<p>{{ taken_url }}</p>
			<br>
		</form>
		<br>
		<script type="text/javascript">
		$(document).ready(function() {
  			$(window).keydown(function(event){
    			if(event.keyCode == 13) {
      				event.preventDefault();
      					return false;
					    }
					  });
					});

		$( "#short-url" ).change(function() {
			var inputLEN = $("#long-url").val().length;
			var onlyAlpha = /^[A-Za-z]+$/;
			var a1= $("#short-url").val();
			var numTest = a1.match(onlyAlpha);
			console.log (numTest);
			if (inputLEN != 0 && a1.match(onlyAlpha)) {
  				$("#submitButton").show();
  			}
  			else if (numTest == null) {
  				$("#submitButton").hide();
  				alert("I need letters and only letters for the shortened URL");
  			}
			});
		$( "#long-url" ).change(function() {
			var inputLEN = $("#long-url").val().length;
			var onlyAlpha = /^[A-Za-z]+$/;
			var a1= $("#short-url").val();
			var numTest = a1.match(onlyAlpha);
			console.log (numTest);
			if (inputLEN != 0 && a1.match(onlyAlpha)) {
  				$("#submitButton").show();
  			}
			});
		
		</script>
	</body>
</html>